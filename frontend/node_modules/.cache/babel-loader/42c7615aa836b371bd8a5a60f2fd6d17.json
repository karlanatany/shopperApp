{"ast":null,"code":"var _jsxFileName = \"/home/natany/shopperApp/src/components/ModalFinalyPurchase.js\",\n    _s = $RefreshSig$();\n\nimport { Button, FormControl, FormLabel, Input, Modal, ModalBody, ModalCloseButton, ModalContent, ModalFooter, ModalHeader, ModalOverlay, useDisclosure } from \"@chakra-ui/react\";\nimport axios from \"axios\";\nimport React, { useContext, useRef } from \"react\";\nimport GlobalStateContext from \"../global/GlobalStateContext.js\";\nimport { ButtonComponent } from \"./ButtonComponent.js\";\nimport { useForm } from \"react-hook-form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ModalFinalyPurchase = () => {\n  _s();\n\n  const {\n    states,\n    setters\n  } = useContext(GlobalStateContext);\n  const {\n    productsCart\n  } = states;\n  const {\n    setProductsCart,\n    clearCart\n  } = setters;\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const {\n    register,\n    handleSubmit\n  } = useForm();\n  const {\n    initialRef,\n    finalRef\n  } = useRef(null);\n\n  const finalizeOrder = values => {\n    return new Promise(resolve => {\n      setTimeout(() => {\n        const body = {\n          customerName: values.name,\n          dateWithdrawal: values.date,\n          products: productsCart\n        };\n        axios.post('http://localhost:3030/orders', body).then(res => {\n          alert(`${values.name} sua compra foi realizada com sucesso.`);\n          resolve();\n        }, 3000).catch(err => console.log('algo deu errao'));\n      });\n      clearCart();\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ButtonComponent, {\n      text: \"Finalizar Compra\",\n      onClick: onOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      initialFocusRef: initialRef,\n      finalFocusRef: finalRef,\n      isOpen: isOpen,\n      onClose: onClose,\n      children: [/*#__PURE__*/_jsxDEV(ModalOverlay, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalContent, {\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          children: \"Informa\\xE7\\xF5es de entrega:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalCloseButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          pb: 6,\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit(finalizeOrder, setProductsCart, onClose),\n            children: [/*#__PURE__*/_jsxDEV(FormControl, {\n              children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                htmlFor: \"name\",\n                children: \"Nome e Sobrenome:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"name\",\n                placeholder: \"Nome e sobrenome\",\n                type: \"text\",\n                ref: initialRef,\n                ...register(\"name\", {\n                  required: \"This is required\",\n                  minLength: {\n                    value: 4,\n                    message: \"Minimum length should be 4\"\n                  }\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              mt: 4,\n              children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                htmlFor: \"date\",\n                children: \"Data de retirada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"date\",\n                type: \"date\",\n                placeholder: \"dd/mm/aaaa\",\n                ...register(\"date\", {\n                  required: \"This is required\"\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                colorScheme: \"blue\",\n                mr: 3,\n                type: \"submit\",\n                onClick: onClose,\n                children: \"Concluir\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: onClose,\n                children: \"Cancelar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ModalFinalyPurchase, \"hGuGVPOQa07SYCrOoVsRdYpU0H4=\", false, function () {\n  return [useDisclosure, useForm];\n});\n\n_c = ModalFinalyPurchase;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalFinalyPurchase\");","map":{"version":3,"names":["Button","FormControl","FormLabel","Input","Modal","ModalBody","ModalCloseButton","ModalContent","ModalFooter","ModalHeader","ModalOverlay","useDisclosure","axios","React","useContext","useRef","GlobalStateContext","ButtonComponent","useForm","ModalFinalyPurchase","states","setters","productsCart","setProductsCart","clearCart","isOpen","onOpen","onClose","register","handleSubmit","initialRef","finalRef","finalizeOrder","values","Promise","resolve","setTimeout","body","customerName","name","dateWithdrawal","date","products","post","then","res","alert","catch","err","console","log","required","minLength","value","message"],"sources":["/home/natany/shopperApp/src/components/ModalFinalyPurchase.js"],"sourcesContent":["import {\n  Button,\n  FormControl,\n  FormLabel,\n  Input,\n  Modal,\n  ModalBody,\n  ModalCloseButton,\n  ModalContent,\n  ModalFooter,\n  ModalHeader,\n  ModalOverlay,\n  useDisclosure\n} from \"@chakra-ui/react\"\nimport axios from \"axios\"\nimport React, { useContext, useRef } from \"react\"\nimport GlobalStateContext from \"../global/GlobalStateContext.js\"\nimport { ButtonComponent } from \"./ButtonComponent.js\"\nimport { useForm } from \"react-hook-form\";\n\n\nexport const ModalFinalyPurchase = () => {\n  const { states, setters } = useContext(GlobalStateContext)\n  const { productsCart } = states\n  const { setProductsCart, clearCart} = setters\n  const { isOpen, onOpen, onClose } = useDisclosure()\n  const { register, handleSubmit} = useForm()\n  const { initialRef, finalRef } = useRef(null)\n\n  const finalizeOrder = (values) => {\n\n    return new Promise((resolve) => {\n\n      setTimeout(() => {\n        const body = {\n          customerName: values.name,\n          dateWithdrawal: values.date,\n          products: productsCart\n        }\n        axios\n          .post('http://localhost:3030/orders', body)\n          .then(res => {\n            alert(`${values.name} sua compra foi realizada com sucesso.`)\n            \n            resolve()\n          }, 3000)\n          .catch(err => console.log('algo deu errao'))\n      })\n      \n      clearCart()\n    })\n  }\n  return (\n    <>\n      <ButtonComponent text='Finalizar Compra' onClick={onOpen} />\n      <Modal\n        initialFocusRef={initialRef}\n        finalFocusRef={finalRef}\n        isOpen={isOpen}\n        onClose={onClose}\n      >\n        <ModalOverlay />\n        <ModalContent>\n          <ModalHeader>Informações de entrega:</ModalHeader>\n          <ModalCloseButton />\n          <ModalBody pb={6}>\n            <form onSubmit={handleSubmit(finalizeOrder, setProductsCart, onClose)}>\n              <FormControl>\n                <FormLabel htmlFor=\"name\">Nome e Sobrenome:</FormLabel>\n                <Input\n                  id=\"name\"\n                  placeholder='Nome e sobrenome'\n                  type=\"text\"\n                  ref={initialRef}\n                  {...register(\"name\", {\n                    required: \"This is required\",\n                    minLength: { value: 4, message: \"Minimum length should be 4\" }\n                  })}\n                />\n              </FormControl>\n              <FormControl mt={4}>\n                <FormLabel htmlFor=\"date\">Data de retirada</FormLabel>\n                <Input\n                  id=\"date\"\n                  type=\"date\"\n                  placeholder='dd/mm/aaaa'\n                  {...register(\"date\", {\n                    required: \"This is required\"\n                  })}\n                />\n              </FormControl>\n              <ModalFooter>\n                <Button colorScheme='blue' mr={3} type='submit' onClick={onClose}>\n                  Concluir\n                </Button>\n                <Button onClick={onClose}>Cancelar</Button>\n              </ModalFooter>\n            </form>\n          </ModalBody>\n        </ModalContent>\n      </Modal>\n    </>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}